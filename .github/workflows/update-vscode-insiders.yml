name: Update VSCode Insiders

on:
  schedule:
    # Run daily at UTC 23:00 (JST 8:00), 30 minutes after stable
    - cron: '0 23 * * *'
  workflow_dispatch: # Manual execution allowed

permissions:
  contents: write

jobs:
  update:
    uses: ./.github/workflows/_update-vscode-template.yml
    with:
      edition: insiders
      package_path: pkgs/vscode-insiders/default.nix
      package_name: vscode-insiders
      api_channel: insider
      display_name: VSCode Insiders
